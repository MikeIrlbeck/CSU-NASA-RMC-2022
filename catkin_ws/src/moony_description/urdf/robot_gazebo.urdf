<?xml version="1.0"?>
<robot name="moony">
<!-- note: units are meters, kilograms, and radians -->

<link name="dummy">
   </link>

    <link name="base_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <mass value="4.11" />
            <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.62" iyz="0" izz="0.52"/>
             <!-- values taken from solidworks  -->
        </inertial>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0"/> <!-- center of the wheel -->
            <geometry>
                <box size="1 .38 .03"/> -->
            </geometry>
        </collision>
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <geometry>
                <!-- <box size="1 .38 .03"/> -->
                <mesh filename="package://moony_description/models/meshes/frame.dae"/>
            </geometry>
        </visual>
    </link>

   <joint name="dummy_joint" type="fixed">
     <parent link="dummy"/>
     <child link="base_link"/>
   </joint>

    <link name="wheel_1_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <mass value="2" />
            <inertia ixx="0.02" ixy="0" ixz="0" iyy="0.02" iyz="0" izz="0.04"/>
             <!-- values taken from solidworks; the origin is the position of the part
                w.r.t its axes for the second moment of mass values  -->
        </inertial>

        <collision>
            <origin rpy="0 0 0" xyz="0 0 0"/> <!-- pre joint orientation -->
            <geometry>
                <cylinder radius="0.17" length="0.09"/>
            </geometry>
        </collision>

        <visual>
            <origin rpy="0 0 0" xyz="0 0 0"/> <!-- center of the wheel -->
            <geometry>
                <mesh filename="package://moony_description/models/meshes/wheel.dae"/>
            </geometry>
            <!-- <material name="white"/> only used in rviz for simple geometry -->
        </visual>
    </link>
    
    <gazebo reference="wheel_1_link">
        <kp>100000.0</kp>
        <kd>100000.0</kd>
        <mu1>10.0</mu1> 
        <mu2>10.0</mu2>
        <!-- <material>Gazebo/Yellow</material> -->
    </gazebo>

    <gazebo>
        <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
            <robotNamespace>/moony</robotNamespace>
        </plugin>
    </gazebo>

    <joint name="wheel_1_joint" type="continuous">
        <parent link="base_link"/>
        <child link="wheel_1_link"/>
        <origin xyz="0.3 0.24 0" rpy="-1.57 0 0"/> <!-- joint location -->
        <!-- y = width/2 of frame + wheel COG to wall = .38/2 + .04 = .23 -->
        <limit effort="0.1" velocity="1"/>
        <axis xyz="0 0 1"/>
    </joint>

    <transmission name="tran1">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="wheel_1_joint">
            <hardwareInterface>EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor1">
            <hardwareInterface>EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <link name="wheel_2_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <mass value="2" />
            <inertia ixx="0.02" ixy="0" ixz="0" iyy="0.02" iyz="0" izz="0.04"/>
             <!-- values taken from solidworks; the origin is the position of the part
                w.r.t its axes for the second moment of mass values  -->
        </inertial>

        <collision>
            <origin rpy="0 0 0" xyz="0 0 0"/> <!-- pre joint orientation -->
            <geometry>
                <cylinder radius="0.17" length="0.09"/>
            </geometry>
        </collision>

        <visual>
            <origin rpy="0 0 0" xyz="0 0 0"/> <!-- center of the wheel -->
            <geometry>
                <mesh filename="package://moony_description/models/meshes/wheel.dae"/>
            </geometry>
            <!-- <material name="white"/> only used in rviz for simple geometry -->
        </visual>
    </link>
    
   <gazebo reference="wheel_2_link">
        <kp>100000.0</kp>
        <kd>100000.0</kd>
        <mu1>10.0</mu1> 
        <mu2>10.0</mu2>
        <!-- <material>Gazebo/Yellow</material> -->
    </gazebo>

    <joint name="wheel_2_joint" type="continuous">
        <parent link="base_link"/>
        <child link="wheel_2_link"/>
        <origin xyz="-0.3 0.24 0" rpy="-1.57 0 0"/> <!-- joint location -->
       <!-- y = width/2 of frame + wheel COG to wall = .38/2 + .04 = .23 -->
        <limit effort="0.1" velocity="1"/>
        <axis xyz="0 0 1"/>
    </joint>

    <transmission name="tran2">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="wheel_2_joint">
            <hardwareInterface>EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor2">
            <hardwareInterface>EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    
    <link name="wheel_3_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <mass value="2" />
            <inertia ixx="0.02" ixy="0" ixz="0" iyy="0.02" iyz="0" izz="0.04"/>
             <!-- values taken from solidworks; the origin is the position of the part
                w.r.t its axes for the second moment of mass values  -->
        </inertial>

        <collision>
            <origin rpy="0 0 0" xyz="0 0 0"/> <!-- pre joint orientation -->
            <geometry>
                <cylinder radius="0.17" length="0.09"/>
            </geometry>
        </collision>

        <visual>
            <origin rpy="0 0 0" xyz="0 0 0"/> <!-- center of the wheel -->
            <geometry>
                <mesh filename="package://moony_description/models/meshes/wheel.dae"/>
            </geometry>
            <!-- <material name="white"/> only used in rviz for simple geometry -->
        </visual>
    </link>
    
   <gazebo reference="wheel_3_link">
        <kp>100000.0</kp>
        <kd>100000.0</kd>
        <mu1>10.0</mu1> 
        <mu2>10.0</mu2>
        <!-- <material>Gazebo/Yellow</material> -->
    </gazebo>

    <joint name="wheel_3_joint" type="continuous">
        <parent link="base_link"/>
        <child link="wheel_3_link"/>
        <origin xyz="0.3 -0.24 0" rpy="1.57 0 0"/> <!-- joint location -->
       <!-- y = width/2 of frame + wheel COG to wall = .38/2 + .04 = .23 -->
        <limit effort="0.1" velocity="1"/>
        <axis xyz="0 0 1"/>
    </joint>

    <transmission name="tran3">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="wheel_3_joint">
            <hardwareInterface>EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor3">
            <hardwareInterface>EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>

    <link name="wheel_4_link">
        <inertial>
            <origin rpy="0 0 0" xyz="0 0 0"/>
            <mass value="2" />
            <inertia ixx="0.02" ixy="0" ixz="0" iyy="0.02" iyz="0" izz="0.04"/>
             <!-- values taken from solidworks; the origin is the position of the part
                w.r.t its axes for the second moment of mass values  -->
        </inertial>

        <collision>
            <origin rpy="0 0 0" xyz="0 0 0"/> <!-- pre joint orientation -->
            <geometry>
                <cylinder radius="0.17" length="0.09"/>
            </geometry>
        </collision>

        <visual>
            <origin rpy="0 0 0" xyz="0 0 0"/> <!-- center of the wheel -->
            <geometry>
                <mesh filename="package://moony_description/models/meshes/wheel.dae"/>
            </geometry>
            <!-- <material name="white"/> only used in rviz for simple geometry -->
        </visual>
    </link>
    
   <gazebo reference="wheel_4_link">
        <kp>100000.0</kp>
        <kd>100000.0</kd>
        <mu1>10.0</mu1> 
        <mu2>10.0</mu2>
        <!-- <material>Gazebo/Yellow</material> -->
    </gazebo>

    <joint name="wheel_4_joint" type="continuous">
        <parent link="base_link"/>
        <child link="wheel_4_link"/>
        <origin xyz="-0.3 -0.24 0" rpy="1.57 0 0"/> <!-- joint location -->
       <!-- y = width/2 of frame + wheel COG to wall = .38/2 + .04 = .23 -->
        <limit effort="0.1" velocity="1"/>
        <axis xyz="0 0 1"/>
    </joint>

    <transmission name="tran4">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="wheel_4_joint">
            <hardwareInterface>EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="motor4">
            <hardwareInterface>EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
</robot>
